<div class="product-form-container">
  <div class="form-content">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="product-form">
      <div class="form-grid">
        <div class="form-section">
          <div class="section-header">
            <h3 class="section-title">Product Information</h3>
            <p class="section-subtitle">Basic details about your product</p>
          </div>
          <div class="form-fields">
            <div class="form-group">
              <label for="title" class="form-label">
              
                Product Title 
              </label>
              <input 
                type="text" 
                formControlName="title" 
                class="form-input" 
                id="title" 
                placeholder="Enter product title"
              />
            </div>
            <div class="form-group">
              <label for="description" class="form-label">
                Description 
              </label>
              <textarea 
                formControlName="description" 
                class="form-textarea" 
                id="description" 
                rows="4" 
                placeholder="Describe your product in detail"
              ></textarea>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="price" class="form-label">
                  Price 
                </label>
                <div class="input-group">
                  <span class="input-prefix">$</span>
                  <input 
                    type="number" 
                    step="0.01" 
                    formControlName="price" 
                    class="form-input" 
                    id="price" 
                    placeholder="0.00"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="availableQuantity" class="form-label">
                  Stock Quantity 
                </label>
                <input 
                  type="number" 
                  formControlName="availableQuantity" 
                  class="form-input" 
                  id="availableQuantity" 
                  placeholder="0"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="categoryId" class="form-label">
                Category 
              </label>
              <select 
                formControlName="categoryId" 
                class="form-select" 
                id="categoryId"
              >
                <option [ngValue]="null" disabled>Select a category</option>
                <option *ngFor="let cat of categories" [ngValue]="cat.id">
                  {{ cat.name }}
                </option>
              </select>
            </div>
            <div class="form-group">
              <div class="checkbox-group">
                <input 
                  type="checkbox" 
                  formControlName="isActive" 
                  class="form-checkbox" 
                  id="isActive" 
                />
                <label class="checkbox-label" for="isActive">
                  <span class="checkbox-custom"></span>
                  <span class="checkbox-text">
                    <strong>Active Product</strong>
                    <small>Make this product visible to customers</small>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="form-section">
          <div class="section-header">
            <h3 class="section-title">Product Image</h3>
          </div>

          <div class="image-upload-area">
            <div class="upload-zone" (click)="triggerFileInput()">
              <div class="upload-content" *ngIf="!previewUrl">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <h4>Click to upload image</h4>
                <p>or <span class="upload-link">browse files</span></p>
                <small>Supports: JPG, PNG, GIF (Max 10MB)</small>
              </div>
              
              <div class="image-preview" *ngIf="previewUrl">
                <img [src]="previewUrl" alt="Product preview" class="preview-image">
                <div class="image-overlay">
                  <button type="button" class="btn btn-sm btn-danger" (click)="removeImage()">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </div>
            </div>
            
            <input 
              type="file" 
              id="imageFile" 
              (change)="onFileSelected($event)" 
              accept="image/*"
              class="file-input"
              #fileInput
            />
          </div>

          <!-- Alert Messages -->
          <div *ngIf="alertMessage" class="alert alert-{{ alertType }} alert-dismissible fade show"
               role="alert">
            <i class="fas fa-{{ alertType === 'success' ? 'check-circle' : 'exclamation-triangle' }}"></i>
            {{ alertMessage }}
            <button type="button" class="btn-close" (click)="alertMessage = null"></button>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">
          <i class="fas fa-{{ productId ? 'save' : 'plus' }}"></i>
          {{ productId ? 'Update Product' : 'Add Product' }}
        </button>
      </div>
    </form>
  </div>
</div>